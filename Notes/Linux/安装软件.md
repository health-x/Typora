# 压缩打包与备份

gzip：

- 使用 gzip 进行压缩时，在默认的状态下原本的文件会被压缩成为 .gz 的文件名，原始文件就不再存在了
- 使用 gzip 压缩的文件在 Windows 系统中，竟然可以被 WinRAR/7zip 这个软件解压缩呢



```
-c或--create 建立新的备份文件。
-f<备份文件>或--file=<备份文件>  指定备份文件。
-t或--list 列出备份文件的内容。
-x或--extract或--get 从备份文件中还原文件。
-v或--verbose 显示指令执行过程。
-z或--gzip或--ungzip 通过gzip指令处理备份文件。
```

压缩

```
tar -czvf test.tar.gz a.txt b.txt   //压缩a.txt和b.txt文件为test.tar.gz
```

列出压缩文件内容

```
 tar  -tzvf  test.tar.gz 
```

解压

```
tar -xzvf test.tar.gz -C 指定目录
```





# 安装Tomcat8

把**apache-tomcat-8.5.61.tar.gz**放到/opt目录下解压

tar -zxvf apache-tomcat-8.5.61.tar.gz

cd 切换到tomcat的bin目录下

输入：./shutup.sh打开服务器。在本机浏览器输入localhost:8080可以访问

在windows上不行，此时需要关闭linux的防火墙

### Centos下

- systemctl status firewalld.service 查看防火墙状态

- systemctl stop firewalld.service 关闭运行的防火墙

关闭之后可在windows主机上访问localhost:8080

### Ubuntu下

安装防火墙：sudo sudo apt-get install ufw

查看防火墙状态：sudo ufw status	         “Status: inactive”状态：不活跃（并不是没有安装防火墙）

开启防火墙：sudo ufw enable

关闭防火墙：sudo ufw disable

开放8080端口：sudo ufw allow 8080

关闭8080端口：sudo ufw delete allow 8080

重启防火墙：sudo ufw reload

查看22端口信息：sudo netstat -tunlp | grep 22





# CentOS 环境下

### 安装javajdk

1. 导入jdk文件到/opt或者/usr/local目录下（这里是/opt）

2. 解压：tar -xzvf 压缩包名

3. 配置环境变量（PATH 前面加的 $ 表示后面接的是变量）

```
JAVA_HOME=/opt/jdk1.8.0_131
PATH=/opt/jdk1.8.0_131/bin:$PATH
export JAVA_HOME PATH

//四阶段
export JAVA_HOME=/usr/local/jdk
export CLASSPATH=$JAVA_HOME/lib
export PATH=$JAVA_HOME/bin:$PATH
```

4. 重启linux
5. 测试：输入java / javac / java -version

### 安装tomcat

1. 导入tomcat压缩包到/opt或者/usr/local目录下
2. 解压：tar -xzvf 压缩包名
3. 开放8080端口
   1. 打开配置文件：**vim /etc/sysconfig/iptables** 
   2. 添加：-A INPUT -m state --state NEW -m tcp -p tcp --dport **3306** -j ACCEPT
4. 重启防火墙：service **iptables** restart
5. 启动tomcat：./startup.ssh
6. 在windows中使用 ip和端口号就能够正常访问了



### yum在线安装mysql

1. 查看CentOS下是否安装了MySQL：yum list installed | grep mysql

2. 删除已安装的mysql：yum -y remove mysql-libs.x86_64

3. 修改CentoS6默认yum库

   1. CentoS 6 停止维护更新日期：2020年11月30日

      CentOS 7 停止维护更新日期：2024年6月

      CentOS 8 停止维护更新日期：2029年5月

      如果需要使用centos6 源，可以使用vault.centos.org作为centos的更新源

   2. 修改配置文件：**vim /etc/yum.repos.d/CentOS-Base.repo**

   3. 删除所有内容

   4. 复制下述内容

      ```
      [centos-office]
      name=centos-office
      failovermethod=priority
      baseurl=https://vault.centos.org/6.9/os/x86_64/
      gpgcheck=1
      gpgkey=https://vault.centos.org/6.9/os/x86_64/RPM-GPG-KEY-CentOS-6
      ```

4. 测试：yum repolist

5. mysqlyum安装及配置（需要网络）

   ```
   # wget http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm
   # rpm -ivh mysql-community-release-el6-5.noarch.rpm
   # yum repolist all | grep mysql       //查看可用的mysql yum库。
   ```

6. 安装MYSQL数据库服务器：yum install mysql-community-server -y

7. 设置为开机启动

   ```
   # chkconfig --list | grep mysqld
   # chkconfig mysqld on
   ```

8. 启动mysql服务：service mysqld start

   1. 设置密码：Y
   2. 移除匿名用户：Y
   3. 不允许用户远程登录：N
   4. 移除test数据库：[ Y/n ]
   5. Reload privilege tables now? [ Y/n ]  y

9. 登录mysql：mysql -u root -p

10. 给root用户赋予远程连接权限：mysql> GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '你设置的密码' WITH GRANT OPTION;

11. 刷新权限：mysql> flush privileges;

12. 退出mysql（exit）重启mysql服务：service mysqld restart

13. 打开防火墙配置文件：vim /etc/sysconfig/iptables

    1. 开放3306端口（添加这行进去）：A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT

14. 重启防火墙：service iptables restart

15. 清除防火墙中链中的规则：iptables -F（非必须，防火墙设置完毕后依然连接失败）



\#mysql_secure_installation		//设置或者修改mysql的root密码 （yum安装mysql默认root无密码）